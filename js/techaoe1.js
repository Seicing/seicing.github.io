let ayanami = {
    "兵营": "兵营<br>Barracks<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>125 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>生产以及升级步兵，靶场、马厩、攻城武器厂和学院的前置条件",
    "狼牙棒战士": "狼牙棒战士<br>Clubman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>26<br>最基本的步兵单位",
    "持斧战士": "持斧战士<br>Axeman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>26<br>最基本的步兵单位,狼牙棒战士的升级<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>100  <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40",
    "环索投石手": "环索投石手<br>Slinger<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>40 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>10 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>35<br>发射石块的战士，对远程部队造成额外伤害",
    "短剑士": "短剑士<br>Short Swordsman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>35 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>15 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>26<br>适用于各种场合的近战步兵，便宜易于部署",
    "阔剑士": "阔剑士<br>Broad Swordsman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>35 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>15 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>26<br>短剑士的升级，适用于各种场合的近战步兵，便宜易于部署<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>140 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>90",
    "长剑士": "长剑士<br>Long Swordsman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>35 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>15 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>26<br>阔剑士的升级，适用于各种场合的近战步兵，便宜易于部署<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>240 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>90",
    "军团兵": "军团兵<br>Legionary<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>35 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>15 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>26<br>长剑士的升级，适用于各种场合的近战步兵，便宜易于部署<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1400 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>600 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150",
    "马厩": "马厩<br>Stable<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>生产以及升级骑兵",
    "侦察兵": "侦察兵<br>Scout<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>90 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>快速而视野开阔的侦查骑兵部队",
    "骑兵": "骑兵<br>Cavalry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>70 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>快速而致命的重型骑兵部队",
    "重装骑兵": "重装骑兵<br>Heavy Cavalry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>70 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>骑兵的升级，快速而致命的重型骑兵部队<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>350 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>125 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>90",
    "甲胄骑兵": "甲胄骑兵<br>Cataphract<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>70 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>重装骑兵的升级，快速而致命的重型骑兵部队<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1600 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>600 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150",
    "战车": "战车<br>Chariot<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>40 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>60 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>便宜但是应用面广的骑兵部队 ",
    "刀轮战车": "刀轮战车<br>Scythe Chariot<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>40 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>60 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>战车的升级，可以造成大范围伤害，便宜但是应用面广的骑兵部队<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>1400 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>1000 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>200",
    "骆驼兵": "骆驼兵<br>Camel Rider<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>70 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>60 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>善于对付其他骑乘部队的骑兵部队",
    "战象": "战象<br>War Elephant<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>170 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>40 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>缓慢的重型骑兵部队，践踏周围的一切敌人 ",
    "披甲战象": "披甲战象<br>Armored Elephant<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>170 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>40 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>战象的升级，缓慢的重型骑兵部队，践踏周围的一切敌人<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1000 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>1200 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150",
    "靶场": "靶场<br>Archery Range<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>125 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>生产以及升级弓箭手",
    "弓箭手": "弓箭手<br>Bowman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>40 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>20 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>价格低廉的轻装远程部队",
    "强化弓箭手": "强化弓箭手<br>Improved Bowman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>40 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>20 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>强力的轻装弓箭手",
    "复合弓箭手": "复合弓箭手<br>Composite Bowman<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>40 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>20 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>强化弓箭手的升级，强力的轻装弓箭手<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>180 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100",
    "骑马弓兵": "骑马弓兵<br>Horse Archer<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>70 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>快速的骑马弓箭手，擅长跑打战术 ",
    "重装骑马弓兵": "重装骑马弓兵<br>Heavy Horse Archer<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>70 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>骑马弓兵的升级，快速的骑马弓箭手，擅长跑打战术<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1750 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>800 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150",
    "骑象射手": "骑象射手<br>Elephant Archer<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>180 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>60 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>超重装骑射手",
    "战车弓兵": "战车弓兵<br>Chariot Archer<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>40 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>70 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>便宜快速的战车弓箭手",
    "攻城武器厂": "攻城武器厂<br>Siege Workshop<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>200 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>生产以及升级攻城武器",
    "投石器": "投石器<br>Stone Thrower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>180 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>轮式攻城武器，擅长于定点爆破固定的建筑物",
    "投石车": "投石车<br>Catapult<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>180 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>投石器的升级，轮式攻城武器，擅长于定点爆破固定的建筑物<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>250 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100",
    "重型投石车": "重型投石车<br>Heavy Catapult<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>180 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>投石车的升级，轮式攻城武器，擅长于定点爆破固定的建筑物<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1800 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>900 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150",
    "弩炮": "弩炮<br>Ballista<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>发射大型弩箭精准打击高价值目标 ",
    "破城者攻城塔": "破城者攻城塔<br>Helepolis<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>80 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>弩炮的升级，发射大型弩箭精准打击高价值目标<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>1000 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150",
    "船坞": "船坞<br>Dock<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>建造和升级船只，渔船收集食物后存放于此，和其他玩家进行海上贸易",
    "捕鱼艇": "捕鱼艇<br>Fishing Boat<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>从鱼群中收集食物",
    "渔船": "渔船<br>Fishing Ship<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>捕鱼艇的升级，从鱼群中收集食物<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>51",

    "贸易艇": "贸易艇<br>Trade Boat<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>60 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>和其他码头进行海上贸易",
    "商船": "商船<br>Merchant Ship<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>60 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>贸易艇的升级，和其他码头进行海上贸易<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>102",

    "轻型运输船": "轻型运输船<br>Light Transport<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>运载陆地单位横跨水域",
    "重型运输船": "重型运输船<br>Heavy Transport<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>轻型运输船的升级，运载陆地单位横跨水域<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>180",

    "侦察船": "侦察船<br>Scout Ship<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>135 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>70<br>快速、擅长侦察的战斗用船只",
    "战舰": "战舰<br>War Galley<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>135 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>70<br>侦察船的升级，快速、擅长侦察的战斗用船只<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>150 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>128",
    "三桨座战船": "三桨座战船<br>Trireme<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>135 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>70<br>战舰的升级，快速、擅长侦察的战斗用船只<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>250 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>200",

    "投石型三桨座战船": "投石型三桨座战船<br>Catapult Trireme<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>135 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>90<br>发射巨石毁灭一切的重型攻城战舰 ",
    "大帆船": "大帆船<br>Juggernaught<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>135 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>90<br>投石型三桨座战船的升级，发射巨石毁灭一切的重型攻城战舰<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>700 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>200",

    "火艨艟": "火艨艟<br>Fire Galley<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>115 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>40 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>快速喷射火焰，烧毁一切船只",

    "贸易车": "贸易车<br>Trade Cart<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>60 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>51<br>通过陆路和其他玩家进行交易",

    "村民": "村民<br>Villager<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>20<br>收集木材、食物、黄金和石头，建筑和维修建筑物，修理船只和攻城武器",
    "祭司": "祭司<br>Priest<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>125 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>缓慢而脆弱，将敌方军队转换成我方部队，医疗受伤的单位",
    "贮藏阱": "贮藏阱<br>Storage Pit<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>120 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>存放野外资源，研究作战科技",
    "工具利用": "工具利用<br>Toolworking<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>近战部队+2攻击力",
    "步兵皮甲": "步兵皮甲<br>Leather Armor Infantry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>步兵+2近战护甲",
    "射手皮甲": "射手皮甲<br>Leather Armor Archers<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>弓兵+2近战护甲",
    "骑兵皮甲": "骑兵皮甲<br>Leather Armor Cavalry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>125 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>骑兵+2近战护甲",
    "金属利用": "金属利用<br>Metalworking<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>120 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>近战部队+2攻击力",
    "青铜盾": "青铜盾<br>Bronze Shield<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>150 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>180 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>步兵+1远程护甲",
    "步兵鳞甲": "步兵鳞甲<br>Scale Armor Infantry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>100 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>步兵+2近战护甲",
    "射手鳞甲": "射手鳞甲<br>Scale Armor Archers<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>125 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>弓兵+2近战护甲",
    "骑兵鳞甲": "骑兵鳞甲<br>Scale Armor Cavalry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>150 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>骑兵+2近战护甲",
    "冶金学": "冶金学<br>Metallurgy<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>180 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100<br>近战部队+3攻击力",
    "铁盾": "铁盾<br>Iron Shield<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>320 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>步兵+1远程护甲",
    "塔盾": "塔盾<br>Tower Shield<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>250 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>400 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100<br>步兵+1远程护甲",
    "步兵锁甲": "步兵锁甲<br>Chain Armor Infantry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>125 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>步兵+2近战护甲",
    "射手锁甲": "射手锁甲<br>Chain Armor Archers<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>150 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>弓兵+2近战护甲",
    "骑兵锁甲": "骑兵锁甲<br>Chain Armor Cavalry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>175 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>骑兵+2近战护甲",
    "学院": "学院<br>Academy<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>训练最强大的步兵",
    "甲兵": "甲兵<br>Hoplite<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>60 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>40 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>36<br>最强大的重装部队",
    "方阵步兵": "方阵步兵<br>Phalangite<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>60 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>40 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>36<br>甲兵的升级，最强大的重装部队<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>90 ",
    "百夫长": "百夫长<br>Centurion<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>60 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>40 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>36<br>方阵步兵的升级，最强大的重装部队<br><br>升级成本<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1800 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>700 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150",
    "城镇中心": "城镇中心<br>Town Center<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>200 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>创造村民，存放资源，升级时代",
    "房屋": "房屋<br>House<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>30 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>20<br>提供人口，每个房屋提升4人口上限",
    "世界奇观": "世界奇观<br>Wonder<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>1000 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>1000 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>1000 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>8000<br>展现您文明优越性的宏伟建筑，建造并且维持一段时间之后可以让您的对手折服",
    "农田": "农田<br>Farm<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>24<br>可再生食物来源，在休耕前提供有限的食物，重建后继续耕作",
    "谷仓": "谷仓<br>Farm<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>120 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>存放从农田收获的食物，升级防御设施",
    "神庙": "神庙<br>Temple<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>200 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>生产与强化祭司",
    "市场": "市场<br>Market<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>研究经济科技",
    "政府中心": "政府中心<br>Government Center<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>175 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>研究受益于整个文明的高级科技",
    "低矮围墙": "低矮围墙<br>Small Wall<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>5 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>7<br>障碍用城墙，放慢敌军进军的速度",
    "稍高围墙": "稍高围墙<br>Medium Wall<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>5 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>7<br>低矮围墙的升级，障碍用城墙，放慢敌军进军的速度",
    "垛墙": "垛墙<br>Fortified Wall<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>5 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>7<br>稍高围墙的升级，障碍用城墙，放慢敌军进军的速度",
    "研究低矮围墙": "研究低矮围墙<br>Research Small Wall<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>25<br>可以建造低矮围墙",
    "研究瞭望箭塔": "研究瞭望箭塔<br>Research Watch Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>25<br>可以建造瞭望箭塔",
    "研究稍高围墙": "研究稍高围墙<br>Research Medium Wall<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>180 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>可以建造稍高围墙",
    "研究警卫塔": "研究警卫塔<br>Research Sentry Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>120 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>可以建造警卫塔",
    "研究垛墙": "研究垛墙<br>Research Fortification<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>175 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>可以建造垛墙",
    "研究警戒箭塔": "研究警戒箭塔<br>Research Guard Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>可以建造警戒箭塔",
    "研究弩炮塔": "研究弩炮塔<br>Research Ballista Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1800 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>900 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>150<br>可以建造弩炮塔",
    "瞭望箭塔": "瞭望箭塔<br>Watch Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>65<br>具有远视野的塔楼，可以攻击来犯的敌人",
    "警卫塔": "警卫塔<br>Sentry Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>65<br>瞭望箭塔的升级，具有远视野的塔楼，可以攻击来犯的敌人",
    "警戒箭塔": "警戒箭塔<br>Guard Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>65<br>警卫塔的升级，具有远视野的塔楼，可以攻击来犯的敌人",
    "弩炮塔": "弩炮塔<br>Ballista Tower<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>65<br>警戒箭塔的终极升级，具有远视野的塔楼，可以攻击来犯的敌人",
    "贵族制": "贵族制<br>Nobility<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>175 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>120 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>70<br>骑兵部队+15%生命值",
    "建筑学": "建筑学<br>Architecture<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>150 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>175 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>建筑物建造时间-33%，生命值+20%",
    "文字书写": "文字书写<br>Writing<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>分享同盟视野",
    "后勤学": "后勤学<br>Logistics<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>180 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>兵营部队只需要占据半个人口",
    "城市守望": "城市守望<br>City Watch<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>15<br>建筑物视野+3",
    "贵族统治制度": "贵族统治制度<br>Aristocracy<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>175 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>学院部队移动速度+25%",
    "弹道学": "弹道学<br>Ballistics<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>投射部队命中率增高，研究弩炮塔的先决条件",
    "炼金术": "炼金术<br>Alchemy<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>250 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>200 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100<br>+1投射部队攻击力",
    "工程学": "工程学<br>Engineering<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>70<br>攻城部队和攻城船只+2射程",
    "征招": "征招<br>Conscription<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>450 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>250 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>70<br>陆地部队训练速度+25%",
    "城市化": "城市化<br>Urbanization<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>70<br>房屋提供双倍人口数 ",
    "木材利用": "木材利用<br>Woodworking<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>120 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>+2伐木效率、+1远程武器射程 ",
    "石矿开采": "石矿开采<br>Stone Mining<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>100 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>+3采石效率、+1环索投石手射程 ",
    "金矿开采": "金矿开采<br>Gold Mining<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>120 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>+3采金效率 ",
    "驯化术": "驯化术<br>Domestication<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>150 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>50 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>40<br>农场+75食物产出量 ",
    "工艺": "工艺<br>Artisanship<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>170 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>80<br>+2伐木效率、+1远程武器射程，需要研发木材利用 ",
    "车轮": "车轮<br>Wheel<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>175 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>村民移动速度+60%，生成战车单位的必要条件",
    "犁": "犁<br>Plow<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>250 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>75 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>农场+100食物产出量，需要研发驯化术",
    "精湛工艺": "精湛工艺<br>Craftsmanship<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>240 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>200 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100<br>+2伐木效率、+1远程武器射程，需要研发工艺",
    "攻城术": "攻城术<br>Siegecraft<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>190 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>+3采石效率、+1环索投石手射程、村民对建筑物伤害增加，需要研发石矿开采",
    "铸币术": "铸币术<br>Coinage<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>200 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>金矿的产能+25%、免费进贡、开采黄金效率+33%",
    "灌溉术": "灌溉术<br>Irrigation<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>300 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/木.png'>100 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100<br>农场+125食物产出量，需要研发犁",
    "占星术": "占星术<br>Astrology<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>175 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>祭司招降效率+30%",
    "神秘论": "神秘论<br>Mysticism<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>120 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>祭司生命值+20",
    "多神论": "多神论<br>Polytheism<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>120 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>祭司移动速度+40%",
    "冥世信仰": "冥世信仰<br>Afterlife<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>275 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>祭司招降范围+3",
    "盲信主义": "盲信主义<br>Fanaticism<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>祭司能量回复速度+50%",
    "医学": "医学<br>Medicine<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>150 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>50<br>祭司治愈速度加快",
    "一神论": "一神论<br>Monotheism<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>350 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>75<br>祭司可以招降建筑物和其它祭司",
    "牺牲": "牺牲<br>Sacrifice<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>400 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100<br>祭司死亡可以马上招降敌方部队",
    "狂热行为": "狂热行为<br>Zealotry<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>120 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>60<br>村民攻击力+7，移动速度+12%，生命值+40，负载量-8",

    "工具时代": "工具时代<br>Tool Age<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>500 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>120<br>升级到工具时代",
    "青铜时代": "青铜时代<br>Bronze Age<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>800 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>140<br>升级到青铜时代",
    "铁器时代": "铁器时代<br>Iron Age<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/肉.png'>1000 <img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>800 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>160<br>升级到铁器时代",

    "神权": "神权<br>Theocracy<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/金.png'>400 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>100  <br>多个祭司招降后只有一个祭司消耗能量",
    "城门": "城门<br>Gate<br><img width='20px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/石.png'>40 <img width='16px' src='https://data.seicing.com/seicingdepot/3fatcatpool/aoe4/tech/时间.png'>30<br>可供部队通过的防御建筑",

    "埃及加成1": "埃及加成1<br>农场便宜20%",
    "埃及加成2": "埃及加成2<br>采金效率+20%，矿工每次多承载2黄金",
    "埃及加成3": "埃及加成3<br>所有战车单位+33%生命值",
    "埃及加成4": "埃及加成4<br>祭司在青铜时代/铁器时代射程+2/+3",
    "埃及加成5": "埃及加成5<br>祭司+1远程护甲",

    "巴比伦加成1": "巴比伦加成1<br>采石效率+20%，矿工每次多承载2石头",
    "巴比伦加成2": "巴比伦加成2<br>市场科技便宜30%",
    "巴比伦加成3": "巴比伦加成3<br>墙和塔生命值+60%",
    "巴比伦加成4": "巴比伦加成4<br>祭司恢复效率+30%",
    "巴比伦加成5": "巴比伦加成5<br>战车+1远程护甲",
    "巴比伦加成6": "巴比伦加成6<br>建筑工工作效率+10%",

    "巴尔米拉加成1": "巴尔米拉加成1<br>村民工作效率+25%，拥有护甲，但是贵50%",
    "巴尔米拉加成2": "巴尔米拉加成2<br>以额外75食物开始游戏",
    "巴尔米拉加成3": "巴尔米拉加成3<br>骆驼兵移动速度+25%",
    "巴尔米拉加成4": "巴尔米拉加成4<br>免费进贡，商人部队获得额外的20%黄金",
    "巴尔米拉加成5": "巴尔米拉加成5<br>科技研究效率+30%",

    "波斯加成1": "波斯加成1<br>狩猎效率+30%，猎人每次多承载3食物",
    "波斯加成2": "波斯加成2<br>大象部队移动快25%",
    "波斯加成3": "波斯加成3<br>侦察船系在工具时代/青铜时代/铁器时代射击速度增加18%/25%/33%",
    "波斯加成4": "波斯加成4<br>墙壁便宜20%",
    "波斯加成5": "波斯加成5<br>马厩效率+20%",

    "朝鲜加成1": "朝鲜加成1<br>持斧战士、短剑士、阔剑士、长剑士、军团兵增加5/15/20/60/80生命值",
    "朝鲜加成2": "朝鲜加成2<br>贮藏阱的技术研究成本-40%",
    "朝鲜加成3": "朝鲜加成3<br>塔射程+2",
    "朝鲜加成4": "朝鲜加成4<br>祭司便宜30%",
    "朝鲜加成5": "朝鲜加成5<br>建筑物+2视野",

    "大和加成1": "大和加成1<br>渔船系工作效率+20%",
    "大和加成2": "大和加成2<br>所有骑兵部队和骑马弓兵便宜15%",
    "大和加成3": "大和加成3<br>船只在石器时代/工具时代/青铜时代/铁器时代生命值提高10/15/20/25%",
    "大和加成4": "大和加成4<br>马厩和靶场升级费用-30%",
    "大和加成5": "大和加成5<br>马厩和靶场便宜33%",

    "腓尼基加成1": "腓尼基加成1<br>伐木效率+15%，伐木工每次多承载2木头",
    "腓尼基加成2": "腓尼基加成2<br>大象单位便宜25%",
    "腓尼基加成3": "腓尼基加成3<br>投石型三桨座战船和大帆船的射击速度+30%",
    "腓尼基加成4": "腓尼基加成4<br>船坞+150生命值，+4视野",
    "腓尼基加成5": "腓尼基加成5<br>射手+2视野",

    "赫梯加成1": "赫梯加成1<br>所有弓箭手+1攻击力",
    "赫梯加成2": "赫梯加成2<br>投石车系+50%生命值",
    "赫梯加成3": "赫梯加成3<br>战舰(除火艨艟外)在工具时代/青铜时代/铁器时代射程+1/+2/+3",
    "赫梯加成4": "赫梯加成4<br>车轮成本和研究时间-50%",
    "赫梯加成5": "赫梯加成5<br>塔提供4人口",

    "迦太基加成1": "迦太基加成1<br>以额外的每种50的资源开局",
    "迦太基加成2": "迦太基加成2<br>大象部队和学院部队生命值+25%、骆驼兵生命值+15%",
    "迦太基加成3": "迦太基加成3<br>火艨艟+25%攻击力",
    "迦太基加成4": "迦太基加成4<br>运输船+25%速度",
    "迦太基加成5": "迦太基加成5<br>贵族制免费",
    "迦太基加成6": "迦太基加成6<br>学院工作速度+20%",

    "罗马加成1": "罗马加成1<br>防御建筑和奇观外的建筑物便宜10%",
    "罗马加成2": "罗马加成2<br>塔便宜40%",
    "罗马加成3": "罗马加成3<br>剑兵系攻击速度+33%",
    "罗马加成4": "罗马加成4<br>祭司+50%治疗速度",
    "罗马加成5": "罗马加成5<br>弩炮系+1射程",

    "马其顿加成1": "马其顿加成1<br>非远程部队+2视野",
    "马其顿加成2": "马其顿加成2<br>学院单位在青铜时代+1远程护甲，铁器时代+2远程护甲",
    "马其顿加成3": "马其顿加成3<br>所有攻城单位便宜25%",
    "马其顿加成4": "马其顿加成4<br>所有单位抵抗招降能力提高四倍",
    "马其顿加成5": "马其顿加成5<br>房屋+50生命值",

    "米诺斯加成1": "米诺斯加成1<br>船只在石器时代/工具时代/青铜时代/铁器时代便宜15/20/25/30%",
    "米诺斯加成2": "米诺斯加成2<br>复合弓箭手在青铜时代/铁器时代射程+1/+2",
    "米诺斯加成3": "米诺斯加成3<br>农民耕作工作速度+10%",
    "米诺斯加成4": "米诺斯加成4<br>船坞便宜20%",

    "苏美尔加成1": "苏美尔加成1<br>村民生命值+15",
    "苏美尔加成2": "苏美尔加成2<br>投石车系列+45%射速",
    "苏美尔加成3": "苏美尔加成3<br>农田+125食物",
    "苏美尔加成4": "苏美尔加成4<br>骆驼兵+1远程护甲",
    "苏美尔加成5": "苏美尔加成5<br>城镇中心便宜25%",

    "希腊加成1": "希腊加成1<br>城镇中心从工具时代开始工作效率快10%",
    "希腊加成2": "希腊加成2<br>学院单位速度+30%，便宜20%",
    "希腊加成3": "希腊加成3<br>舰船速度+20%",
    "希腊加成4": "希腊加成4<br>多神论和占星学免费",
    "希腊加成5": "希腊加成5<br>市场便宜50%",

    "亚述加成1": "亚述加成1<br>村民移动速度+10%",
    "亚述加成2": "亚述加成2<br>射手攻击速度在工具时代/青铜时代/铁器时代+11%/+22%/+33%",
    "亚述加成3": "亚述加成3<br>攻城器升级费用-50%",
    "亚述加成4": "亚述加成4<br>攻城武器厂+15%工作速度",

    "商朝加成1": "商朝加成1<br>村民只需要40食物，开局-40食物",
    "商朝加成2": "商朝加成2<br>墙增加60%生命值",
    "商朝加成3": "商朝加成3<br>骑兵系攻击速度+10%",
    "商朝加成4": "商朝加成4<br>城镇中心提供4人口",

    "骆越加成1": "骆越加成1<br>粮草征收员工作速度+15%",
    "骆越加成2": "骆越加成2<br>军事部队生产速度+25%",
    "骆越加成3": "骆越加成3<br>靶场系部队和弩炮+2近战护甲",
    "骆越加成4": "骆越加成4<br>房屋和农田建造速度+50%",

}


function showPic(e, taitou) {
    var aasb = document.getElementById("Layer1");
    if (!aasb) {
        aasb = document.createElement("div");
        aasb.id = "Layer1";
        document.body.appendChild(aasb);
    }

    Object.assign(aasb.style, {
        position: "fixed",
        zIndex: 9999,
        pointerEvents: "none",
        display: "block",
        width: "210px",
        background: "rgba(0,0,0,0.75)",
        color: "#fff",
        padding: "5px",
        borderRadius: "5px",
    });

    aasb.innerHTML = ayanami && ayanami[taitou] ? ayanami[taitou] : taitou;

    let x = 0, y = 0;
    if (e.touches && e.touches.length > 0) {
        x = e.touches[0].clientX;
        y = e.touches[0].clientY;
    } else {
        x = e.clientX;
        y = e.clientY;
    }

    const tooltipWidth = aasb.offsetWidth;
    const tooltipHeight = aasb.offsetHeight;
    const vw = window.innerWidth;
    const vh = window.innerHeight;

    let top = y - tooltipHeight - 15;
    if (top < 10) {
        top = y + 25;
    }

    let left = x - tooltipWidth / 2;

    const margin = 10;

    if (left < margin) {
        left = margin;
    }

    if (left + tooltipWidth > vw - margin) {
        left = vw - tooltipWidth - margin;
    }


    aasb.style.top = top + "px";
    aasb.style.left = left + "px";
}

function hiddenPic() {
    var aasb = document.getElementById("Layer1");
    aasb.style.display = "none";
    aasb.innerHTML = "";
}

function aoetechPoe(a) {
    var aoetech = ayanami[a].lastIndexOf("<br>");
    var aoetechP = ayanami[a].substr(aoetech + 4);
    if ($("." + a).length > 0) {
        var x = document.getElementsByClassName(a);
        var i;
        for (i = 0; i < x.length; i++) {
            x[i].innerHTML = aoetechP;
        }
    } else { }
}

function aoetechPoeRush() {
    for (let key in ayanami) {
        var gasdss = key.toString();
        aoetechPoe(gasdss)
    }
}


// ============================
// aoetech 自动生成样式
// ============================
(function () {
    const style = document.createElement("style");
    style.innerHTML = `
    .aoetech-table-flex {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .aoetech-tr-flex {
      display: flex;
      flex-wrap: nowrap;
      gap: 0;
    }

    .aoetech-cell {
      position: relative;
      width: 42px;
      height: 42px;
      background-color: #f8f8f8;
      /*
       * 【重要】
       * 边框现在被精细地控制为四个独立的边，
       * JS将根据需要单独为它们上色。
      */
      border-top: 1px solid transparent;
      border-bottom: 1px solid transparent;
      border-left: 1px solid transparent;
      border-right: 1px solid transparent;
      box-sizing: border-box;
    }

    .aoetech-cell img {
      max-width:100%;
      max-height: 100%;
      display: block;
    }

    .aoetech-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width:100%;
      height: 100%;
      pointer-events: none;
    }
  `;
    document.head.appendChild(style);
})();

// ============================
// aoetech 分组背景 + 区域外围描边 (新逻辑)
// ============================
(function () {
    // 1. 定义颜色映射表
    const groupColors = {
        "1": "#eaf3ff", "2": "#ffeaea", "3": "#f1ffe8",
        "4": "#f9eaff", "5": "#eafffd", "6": "#d9e0d7"
    };
    const groupBorderColors = {
        "1": "#0058dbff", "2": "#ff2424ff", "3": "#3eae06ff",
        "4": "#9a00d2ff", "5": "#00dbd0ff", "6": "#a4b0a2"
    };

    const grid = [];
    const rows = document.querySelectorAll(".aoetech-tr-flex");

    // 2. 构建网格数据结构，存储每个格子的元素和组信息
    rows.forEach(row => {
        const gridRow = [];
        const cells = row.querySelectorAll(".aoetech-cell");
        cells.forEach(cell => {
            gridRow.push({
                element: cell,
                group: cell.getAttribute("group") || null
            });
        });
        grid.push(gridRow);
    });

    // 3. 遍历网格，应用背景色和智能描边
    grid.forEach((row, r) => {
        row.forEach((cellInfo, c) => {
            const currentGroup = cellInfo.group;

            // 如果当前格子没有分组，则跳过
            if (!currentGroup) return;

            // 应用背景色
            if (groupColors[currentGroup]) {
                cellInfo.element.style.backgroundColor = groupColors[currentGroup];
            }

            // 获取描边颜色
            const borderColor = groupBorderColors[currentGroup];
            if (!borderColor) return;

            // 检查四个方向的邻居
            const topNeighborGroup = (grid[r - 1] && grid[r - 1][c]) ? grid[r - 1][c].group : null;
            const bottomNeighborGroup = (grid[r + 1] && grid[r + 1][c]) ? grid[r + 1][c].group : null;
            const leftNeighborGroup = (grid[r][c - 1]) ? grid[r][c - 1].group : null;
            const rightNeighborGroup = (grid[r][c + 1]) ? grid[r][c + 1].group : null;

            // 如果邻居不属于同一组，则在该方向绘制边框
            if (topNeighborGroup !== currentGroup) {
                cellInfo.element.style.borderTopColor = borderColor;
            }
            if (bottomNeighborGroup !== currentGroup) {
                cellInfo.element.style.borderBottomColor = borderColor;
            }
            if (leftNeighborGroup !== currentGroup) {
                cellInfo.element.style.borderLeftColor = borderColor;
            }
            if (rightNeighborGroup !== currentGroup) {
                cellInfo.element.style.borderRightColor = borderColor;
            }
        });
    });
})();



function CommonAllTech() {
    document.getElementById("Egyptians2").classList.remove("aoeTechIconOff");
    document.getElementById("Assyrians2").classList.remove("aoeTechIconOff");
    document.getElementById("Hittites2").classList.remove("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.remove("aoeTechIconOff");
    document.getElementById("Persians2").classList.remove("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.remove("aoeTechIconOff");
    document.getElementById("Greeks2").classList.remove("aoeTechIconOff");
    document.getElementById("Minoans2").classList.remove("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.remove("aoeTechIconOff");
    document.getElementById("Shang2").classList.remove("aoeTechIconOff");
    document.getElementById("Yamato2").classList.remove("aoeTechIconOff");
    document.getElementById("Choson2").classList.remove("aoeTechIconOff");
    document.getElementById("LacViet2").classList.remove("aoeTechIconOff");
    document.getElementById("Romans2").classList.remove("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.remove("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.remove("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.remove("aoeTechIconOff");
}

function showPic2(e) {
    // 获取或创建 Layer2
    var aasb = document.getElementById("Layer2");
    if (!aasb) {
        aasb = document.createElement("div");
        aasb.id = "Layer2";
        document.body.appendChild(aasb);
    }

    // 样式写死在 JS 中
    Object.assign(aasb.style, {
        position: "fixed",
        display: "block",
        width: "225px",
        backgroundColor: "rgba(0,0,0,0.75)",
        color: "#fff",
        padding: "10px",
        borderRadius: "5px",
        zIndex: 9999,
        pointerEvents: "none", // 防止鼠标挡住元素
    });

    let x = 0, y = 0;
    if (e.touches && e.touches.length > 0) {
        x = e.touches[0].clientX;
        y = e.touches[0].clientY;
    } else {
        x = e.clientX;
        y = e.clientY;
    }

    // --- 默认偏移位置 ---
    let left = x - 245;
    let top = y + 2;

    // --- 防止 tooltip 超出屏幕 ---
    const tooltipWidth = aasb.offsetWidth;
    const tooltipHeight = aasb.offsetHeight;
    const vw = window.innerWidth;
    const vh = window.innerHeight;

    if (left < 0) left = 5; // 左边界保护
    if (left + tooltipWidth > vw) left = vw - tooltipWidth - 5;
    if (top + tooltipHeight > vh) top = vh - tooltipHeight - 5;

    aasb.style.left = left + "px";
    aasb.style.top = top + "px";
}

function hiddenPic2() {
    var aasb = document.getElementById("Layer2");
    aasb.style.display = "none";
    CommonAllTech()
}











function AOE2_applyUnitCivDisable(funcName) {
    let tries = 0;
    const MAX_TRIES = 50; // 最多等 ~2.5 秒

    function tryApply() {
        tries++;

        // 1. 规则函数是否已存在
        const fn = window[funcName];
        if (typeof fn !== "function") {
            if (tries < MAX_TRIES) {
                return setTimeout(tryApply, 50);
            }
            return;
        }

        // 2. 解析函数体
        const src = fn.toString();
        const re = /getElementById\("([A-Za-z]+)2"\)\.classList\.add\("aoeTechIconOff"\)/g;

        let m;
        let applied = false;

        while ((m = re.exec(src))) {
            const civ = m[1];
            const el = document.getElementById(civ);

            // 3. DOM 还没进来，继续等
            if (!el) {
                if (tries < MAX_TRIES) {
                    return setTimeout(tryApply, 50);
                }
                return;
            }

            el.classList.add("aoeTechIconOff");

            applied = true;
        }

        // 如果这次什么都没应用，也不用再等
        if (!applied) return;
    }

    // 立即尝试一次
    tryApply();
}

/* =========================================================
   文明小图标 → 自动生成快捷跳转链接
   ========================================================= */

function AOE2_enableCivIconQuickJump() {

    document.querySelectorAll('img[id$="2"][title]').forEach(img => {

        // 已经被包过就跳过
        if (img.closest('a')) return;

        const title = img.getAttribute("title");
        if (!title) return;

        const link = document.createElement("a");
        link.href = `https://seicing.com/html/aoe2/1/${title}.html#techno`;
        link.style.color = "#0010ff";
        link.style.display = "inline-block";

        img.parentNode.insertBefore(link, img);
        link.appendChild(img);
    });
}

function AOE2_activateCurrentCivIcon() {
    const path = location.pathname;
    if (!path.includes("/html/aoe2/")) return;

    const fileName = path.split("/").pop();
    if (!fileName) return;

    const civName = decodeURIComponent(
        fileName.replace(/\.html$/i, "")
    ).trim();

    const techno = document.getElementById("techno");
    if (!techno) return;

    let targetImg = null;

    techno.querySelectorAll("img[title]").forEach(img => {
        const title = img.getAttribute("title").trim();
        if (title === civName) {
            targetImg = img;
        }
    });

    if (!targetImg) {
        console.warn("未找到文明图标：", civName);
        return;
    }

    // 清理旧激活
    techno.querySelectorAll(".civ-active937").forEach(el => {
        el.classList.remove("civ-active937");
    });

    targetImg.classList.add("civ-active937");
}


const AOE2_TECH_LINK_EXCLUDE = new Set([
    "工具利用",
    "步兵皮甲",
    "射手皮甲",
    "骑兵皮甲",
    "青铜盾",
    "金属利用",
    "步兵鳞甲",
    "射手鳞甲",
    "骑兵鳞甲",
    "铁盾",
    "冶金学",
    "步兵锁甲",
    "射手锁甲",
    "骑兵锁甲",
    "塔盾",
    "占星术",
    "多神论",
    "神秘论",
    "神权",
    "冥世信仰",
    "盲信主义",
    "一神论",
    "医学",
    "狂热行为",
    "贵族制",
    "建筑学",
    "文字书写",
    "后勤学",
    "木材利用",
    "石矿开采",
    "金矿开采",
    "驯化术",
    "城市守望",
    "贵族统治制度",
    "弹道学",
    "炼金术",
    "工程学",
    "工艺",
    "车轮",
    "犁",
    "征招",
    "城市化",
    "精湛工艺",
    "攻城术",
    "铸币术",
    "灌溉术",
]);

const AOE2_TECH_NAME_ALIAS = {
    "兵营": /^.+兵营$/,
    "学院": /^.+学院$/,
    "政府中心": /^.+政府中心$/,
    "稍高围墙": /^.+稍高围墙$/,
    "垛墙": /^.+垛墙$/,
    "城镇中心": /^.+城镇中心$/,
    "警戒箭塔": /^.+警戒箭塔$/,
    "弩炮塔": /^.+弩炮塔$/,
    "房屋": /^.+房屋$/,
    "世界奇观": /^.+世界奇观$/,
    "弩炮塔": /^.+弩炮塔$/,
};

const AOE2_TECH_LINK_TYPE_MAP = {
    "兵营": "buildings",
    "靶场": "buildings",
    "马厩": "buildings",
    "船坞": "buildings",
    "贮藏阱": "buildings",
    "谷仓": "buildings",
    "市场": "buildings",
    "神庙": "buildings",
    "攻城武器厂": "buildings",
    "政府中心": "buildings",
    "学院": "buildings",
    "低矮围墙": "buildings",
    "稍高围墙": "buildings",
    "垛墙": "buildings",
    "城门": "buildings",
    "城镇中心": "buildings",
    "瞭望箭塔": "buildings",
    "警卫塔": "buildings",
    "警戒箭塔": "buildings",
    "弩炮塔": "buildings",
    "房屋": "buildings",
    "世界奇观": "buildings",
    "农田": "buildings",
};

// 特殊保留前缀的例外单位
const AOE2_TECH_PREFIX_EXCLUDE = new Set([
    "精锐草原枪兵",
]);

/* =========================================================
   科技树 → 快捷跳转（可开关）
   ========================================================= */
let techTreeQuickJumpEnabled = false; // 默认关闭

function AOE2_normalizeTechName(rawName) {
    // 先匹配别名
    for (const canonical in AOE2_TECH_NAME_ALIAS) {
        const rule = AOE2_TECH_NAME_ALIAS[canonical];
        if (rule.test(rawName)) {
            return canonical;
        }
    }

    // 默认去掉前缀（精锐、高级、精英等），除非例外
    if (!AOE2_TECH_PREFIX_EXCLUDE.has(rawName)) {
        return rawName.replace(/^(精锐|早期)/, "");
    }

    return rawName;
}

function AOE2_enableTechTreeQuickJump() {
    const container = document.getElementById("wenttodie");
    if (!container) return;

    container.querySelectorAll(".aoetech-cell").forEach(cell => {
        if (cell.dataset.quickjump === "1") return; // 已处理

        const img = cell.querySelector("img:not(.aoetech-overlay)");
        if (!img) return;

        const src = img.getAttribute("src");
        if (!src) return;

        const rawName = src.split("/").pop().replace(/\.\w+$/, "");
        const name = AOE2_normalizeTechName(rawName);

        if (AOE2_TECH_LINK_EXCLUDE.has(name)) return;

        const type = AOE2_TECH_LINK_TYPE_MAP[name] || "unit";
        const href = `https://seicing.com/html/aoe2/${type}/${name}.html`;

        const link = document.createElement("a");
        link.href = href;
        link.style.display = "block";
        link.style.width = "100%";
        link.style.height = "100%";

        // 保证 overlay 不拦截点击
        cell.querySelectorAll(".aoetech-overlay").forEach(o => {
            o.style.pointerEvents = "none";
        });

        // 包裹 cell 内容
        while (cell.firstChild) {
            link.appendChild(cell.firstChild);
        }
        cell.appendChild(link);
        cell.dataset.quickjump = "1";

        // hover 高亮层：只创建一次
        if (!cell.querySelector(".hover-highlight")) {
            const hoverLayer = document.createElement("div");
            hoverLayer.className = "hover-highlight";
            cell.appendChild(hoverLayer);
        }

        // 标记当前格子处于「超链接化开启」状态
        cell.classList.add("quickjump-enabled");
    });
}

function AOE2_disableTechTreeQuickJump() {
    const container = document.getElementById("wenttodie");
    if (!container) return;

    container.querySelectorAll(".aoetech-cell").forEach(cell => {
        if (cell.dataset.quickjump !== "1") return;

        const link = cell.querySelector(":scope > a");
        if (!link) return;

        // 把 a 里的内容搬回 cell
        while (link.firstChild) {
            cell.appendChild(link.firstChild);
        }

        link.remove();

        // 移除 hover 高亮层（如果有）
        const hoverLayer = cell.querySelector(".hover-highlight");
        if (hoverLayer) hoverLayer.remove();

        delete cell.dataset.quickjump;
    });
}


function toggleTechTreeQuickJump() {
    const btn = document.getElementById("enableTechTreeQuick");
    if (!btn) return;

    if (!techTreeQuickJumpEnabled) {
        AOE2_enableTechTreeQuickJump();
        btn.textContent = "已开启科技树超链接化";
        btn.classList.add("enabled"); // 加特效
        techTreeQuickJumpEnabled = true;
    } else {
        AOE2_disableTechTreeQuickJump();
        btn.textContent = "开启上方科技树超链接化";
        btn.classList.remove("enabled"); // 移除特效
        techTreeQuickJumpEnabled = false;
    }
}




function Architecture() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
}
function CityWatch() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
}
function Alchemy() {
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function Craftsmanship() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
}
function Urbanization() {
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Astrology() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Mysticism() {
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Polytheism() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
}
function Afterlife() {
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function Fanaticism() {
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Medicine() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Monotheism() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function Theocracy() {
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Jihad() {
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}

function Martyrdom() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
}
function Siegecraft() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function Irrigation() {
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
}
function Nobility() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
}
function Logistics() {
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
}
function Aristocracy() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function Engineering() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function Conscription() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function Wall3() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Tower3() {
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
}
function Tower4() {
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function Bronzeshield() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
}
function Metallurgy() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function Chainmailinfantry() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
}
function Ironshield() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function Chainmailarchers() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
}
function Chainmailcavalry() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
}
function Towershield() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}




function Chariot() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function ScytheChariot() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function CavalryUnit() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function HeavyCavalry() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function Cataphract() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
}

function WarElephant() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function ArmoredElephant() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function CamelRider() {
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
}
function Catapult() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function HeavyCatapult() {
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Ballista() {
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}
function Helepolis() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
}
function Priest() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
}
function Hoplite() {
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
}
function Phalangite() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
}
function Centurion() {
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
}
function FishingShip() {
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
}
function Trireme() {
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function CatapultTrireme() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function Juggernaut() {
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
}
function FireGalley() {
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
}


function HeavyHorseArcher() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
}


function HorseArcher() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Phoenicians2").classList.add("aoeTechIconOff");
}




function ElephantArcher() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Babylonians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}



function ChariotArcher() {
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Persians2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}

function CompositeBowman() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("Choson2").classList.add("aoeTechIconOff");
    document.getElementById("Romans2").classList.add("aoeTechIconOff");
}

function ImprovedBowman() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}

function Slinger() {
    document.getElementById("Assyrians2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
}

function Legionary() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
    document.getElementById("Carthaginians2").classList.add("aoeTechIconOff");
    document.getElementById("LacViet2").classList.add("aoeTechIconOff");
    document.getElementById("Minoans2").classList.add("aoeTechIconOff");
    document.getElementById("Sumerians2").classList.add("aoeTechIconOff");
}
function LongSwordsman() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
    document.getElementById("Hittites2").classList.add("aoeTechIconOff");
    document.getElementById("Macedonians2").classList.add("aoeTechIconOff");
    document.getElementById("Palmyrans2").classList.add("aoeTechIconOff");
    document.getElementById("Shang2").classList.add("aoeTechIconOff");
}
function BroadSwordsman() {
    document.getElementById("Egyptians2").classList.add("aoeTechIconOff");
    document.getElementById("Greeks2").classList.add("aoeTechIconOff");
    document.getElementById("Yamato2").classList.add("aoeTechIconOff");
}





const AOE2_TECH_NAME_MAP = {
    "建筑学": "Architecture",
    "城市守望": "CityWatch",
    "炼金术": "Alchemy",
    "精湛工艺": "Craftsmanship",
    "城市化": "Urbanization",
    "占星术": "Astrology",
    "神秘论": "Mysticism",
    "多神论": "Polytheism",
    "冥世信仰": "Afterlife",
    "盲信主义": "Fanaticism",
    "医学": "Medicine",
    "一神论": "Monotheism",
    "神权": "Theocracy",
    "牺牲": "Jihad",
    "狂热行为": "Martyrdom",
    "攻城术": "Siegecraft",
    "灌溉术": "Irrigation",
    "贵族制": "Nobility",
    "后勤学": "Logistics",
    "贵族统治制度": "Aristocracy",
    "工程学": "Engineering",
    "征招": "Conscription",
    "垛墙": "Wall3",
    "警戒箭塔": "Tower3",
    "弩炮塔": "Tower4",
    "青铜盾": "Bronzeshield",
    "冶金学": "Metallurgy",
    "步兵锁甲": "Chainmailinfantry",
    "铁盾": "Ironshield",
    "射手锁甲": "Chainmailarchers",
    "骑兵锁甲": "Chainmailcavalry",
    "塔盾": "Towershield",

    "阔剑士": "BroadSwordsman",
    "长剑士": "LongSwordsman",
    "军团兵": "Legionary",

    "环索投石手": "Slinger",
    "强化弓箭手": "ImprovedBowman",
    "复合弓箭手": "CompositeBowman",
    "战车弓兵": "ChariotArcher",
    "骑象射手": "ElephantArcher",
    "骑马弓兵": "HorseArcher",
    "重装骑马弓兵": "HeavyHorseArcher",

    "战车": "Chariot",
    "刀轮战车": "ScytheChariot",
    "骑兵": "CavalryUnit",
    "重装骑兵": "HeavyCavalry",
    "甲胄骑兵": "Cataphract",
    "战象": "WarElephant",
    "披甲战象": "ArmoredElephant",
    "骆驼兵": "CamelRider",

    "投石车": "Catapult",
    "重型投石车": "HeavyCatapult",
    "弩炮": "Ballista",
    "破城者攻城塔": "Helepolis",

    "祭司": "Priest",
    "甲兵": "Hoplite",
    "方阵步兵": "Phalangite",
    "百夫长": "Centurion",

    "渔船": "FishingShip",
    "三桨座战船": "Trireme",
    "投石型三桨座战船": "CatapultTrireme",
    "大帆船": "Juggernaut",
    "火艨艟": "FireGalley",
};

const AOE2_TECH_RULES = {};

function __buildTechRulesFromFunctions() {
    Object.values(AOE2_TECH_NAME_MAP).forEach(funcName => {
        const fn = window[funcName];
        if (typeof fn !== "function") return;

        const src = fn.toString();
        const civs = [];

        const re = /getElementById\("([A-Za-z]+)2"\)\.classList\.add\("aoeTechIconOff"\)/g;
        let m;
        while ((m = re.exec(src))) {
            civs.push(m[1]);
        }

        if (civs.length) {
            AOE2_TECH_RULES[funcName] = civs;
        }
    });
}

function applyAOE2TechDisableOverlay() {
    const container = document.getElementById("wenttodie");
    if (!container) return;

    // 当前文明：直接取 class
    const civ = [...container.classList][0];
    if (!civ) return;

    container.querySelectorAll(".aoetech-cell").forEach(cell => {
        const a = cell.querySelector("a");
        if (!a) return;

        const attr = a.getAttribute("onmousemove");
        if (!attr) return;

        const m = attr.match(/showPic\(event,'([^']+)'\)/);
        if (!m) return;

        const techCN = m[1];
        const funcName = AOE2_TECH_NAME_MAP[techCN];
        if (!funcName) return;

        const bannedCivs = AOE2_TECH_RULES[funcName];
        if (!bannedCivs || !bannedCivs.includes(civ)) return;

        // 已有红叉就不重复加
        if (cell.querySelector(".aoetech-overlay")) return;

        const overlay = document.createElement("img");
        overlay.className = "aoetech-overlay";
        overlay.src = "https://data.seicing.com/seicingdepot/3fatcatpool/cannot.png";
        cell.appendChild(overlay);
    });
}

function AOE2_applyTechTree() {
    __buildTechRulesFromFunctions();
    applyAOE2TechDisableOverlay();
}


