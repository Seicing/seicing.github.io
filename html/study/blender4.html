<meta charset="UTF-8" />

<!--Title-->

<!--Content-->
<div id="lavipage" page="12"></div>
<div class="postCont">
    <p>どうもこんにちは、JBです。<br /> Blender基礎チュートリアル、前回はマテリアルとテクスチャの設定まで進みました。ようやく見た目もパンダらしくなったので、いよいよ動かしてみたいと思います！
        <br /> ということで今回は、動かすための必須工程、ボーンの設定です。
        <span id="more-3684"></span><br />
    </p>
    <div id="toc_container" class="no_bullets">
        <p class="toc_title">目次</p>
        <ul class="toc_list">
            <li><a href="#i"><span class="toc_number toc_depth_1">1</span> アーマチュアを作る</a>
                <ul>
                    <li><a href="#Mirror_Modifire"><span class="toc_number toc_depth_2">1.1</span> ミラーモディファイア（Mirror Modifire）を適用させる</a></li>
                    <li><a href="#Armature"><span class="toc_number toc_depth_2">1.2</span> アーマチュア（Armature）を加えよう</a></li>
                    <li><a href="#i-2"><span class="toc_number toc_depth_2">1.3</span> ボーンを押し出してアーマチュアを構成しよう</a>
                        <ul>
                            <li><a href="#i-3"><span class="toc_number toc_depth_3">1.3.1</span> ■ 準備</a></li>
                            <li><a href="#i-4"><span class="toc_number toc_depth_3">1.3.2</span> ■ ボーン構成</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><a href="#i-5"><span class="toc_number toc_depth_1">2</span> ボーンを制御する</a>
                <ul>
                    <li><a href="#i-6"><span class="toc_number toc_depth_2">2.1</span> まずはボーンに名前をつけよう</a></li>
                    <li><a href="#Pose"><span class="toc_number toc_depth_2">2.2</span> 新しいモード「Pose モード」</a></li>
                    <li><a href="#Auto_IK"><span class="toc_number toc_depth_2">2.3</span> Auto IKを使う</a></li>
                    <li><a href="#i-7"><span class="toc_number toc_depth_2">2.4</span> ボーンのチェーンを設定する</a></li>
                    <li><a href="#i-8"><span class="toc_number toc_depth_2">2.5</span> 足の制御</a></li>
                </ul>
            </li>
            <li><a href="#i-9"><span class="toc_number toc_depth_1">3</span> ウエイトペイントを設定する</a>
                <ul>
                    <li><a href="#i-10"><span class="toc_number toc_depth_2">3.1</span> アーマチュアモディファイアを適用させる</a></li>
                    <li><a href="#i-11"><span class="toc_number toc_depth_2">3.2</span> ウエイトペイントモードでペイントする</a></li>
                </ul>
            </li>
            <li><a href="#i-12"><span class="toc_number toc_depth_1">4</span> いよいよポーズ！</a>
                <ul>
                    <li><a href="#i-13"><span class="toc_number toc_depth_2">4.1</span> マスターボーンを追加する</a></li>
                    <li><a href="#i-14"><span class="toc_number toc_depth_2">4.2</span> ヒザの調整</a></li>
                    <li><a href="#i-15"><span class="toc_number toc_depth_2">4.3</span> ポーズをとらせてみよう</a></li>
                </ul>
            </li>
            <li><a href="#i-16"><span class="toc_number toc_depth_1">5</span> ボーン設定終了！</a></li>
        </ul>
    </div>
    <h2 id="step1"><span id="i">アーマチュアを作る</span></h2>
    <p>「アーマチュアとは何ぞや」といいますと、ボーンの集合体というか…。動かせる関節が寄り集まったモノだと思って下さい。それではいってみましょう！</p>
    <h3><span id="Mirror_Modifire">ミラーモディファイア（Mirror Modifire）を適用させる</span></h3>
    <p>現時点のメッシュオブジェクトの半分は、モディファイアが見せてくれているマボロシ状態。なのでモディファイアを適用して、仮で作ってくれていた半分を実体化します。<br />
        <div class="add_desc card_gray">2014/8/7 追記:<br />下でりんごさんからコメントを頂きました。<br />左右対称のオブジェクトなら、どうやらここでミラーモディファイアを実体化させなくても大丈夫なようです。モディファイアの順序をMirror→Armatureの順序にすれば、アーマチュアがミラーされているメッシュオブジェクトに適応されるそうです！りんごさん、ありがとうございます！</div><br /> パンダのオブジェクトを選択して、オブジェクトモードへ。プロパティパネルのモディファイアタブ（レンチのマークでおなじみ）→MirrorのApplyをクリックすればOKです。色々注意されることもありますが、全無視です。
        <br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/1.jpg"><img src="$res/2fatcatpool/refer/blender3/1.jpg" alt="1" width="350" height="335" class="alignleft size-full wp-image-2060" /><noscript><img src="$res/2fatcatpool/refer/blender3/1.jpg" alt="1" width="350" height="335" class="alignleft size-full wp-image-2060" /></noscript></a><br
        />
    </p>
    <p>ミラーモディファイアを適用させてしまった後に頂点を直したいよ！というときは、3D Viewのツールパネル（<span class="keybord">T</span>で出てきます）のX Mirrorにチェックを入れると左右対称に同じ点が動いてくれます。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/2.jpg"><img src="$res/2fatcatpool/refer/blender3/2.jpg" alt="2" width="510" height="340" class="alignleft size-full wp-image-2061" /><noscript><img src="$res/2fatcatpool/refer/blender3/2.jpg" alt="2" width="510" height="340" class="alignleft size-full wp-image-2061" /></noscript></a><br
        />
    </p>
    <h3><span id="Armature">アーマチュア（Armature）を加えよう</span></h3>
    <p>さっそく骨を！と言いたいところですが、まずは変な場所に背骨が入らない様にカーソルを設定します。前から見て、パンダの腰骨が入りそうな頂点を選択します。<span class="keybord">Shift</span>+<span class="keybord">S</span>で出てきたメニューからCursor to Selectedを選択すると、カーソルがさっき選んだ頂点に移動されます！<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/3.jpg"><img src="$res/2fatcatpool/refer/blender3/3.jpg" alt="3" width="720" height="500" class="alignleft size-full wp-image-2062" /><noscript><img src="$res/2fatcatpool/refer/blender3/3.jpg" alt="3" width="720" height="500" class="alignleft size-full wp-image-2062" /></noscript></a><br
        />
    </p>
    <p>カーソルの準備が整ったら、オブジェクトモードに切り替え。<span class="keybord">Shift</span>+<span class="keybord">A</span>でアーマチュアを追加します。何だか変な棒が！これでアーマチュアができました。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/4.jpg"><img src="$res/2fatcatpool/refer/blender3/4.jpg" alt="4" width="720" height="475" class="alignleft size-full wp-image-2064" /><noscript><img src="$res/2fatcatpool/refer/blender3/4.jpg" alt="4" width="720" height="475" class="alignleft size-full wp-image-2064" /></noscript></a><br
        />
    </p>
    <p>ここでアーマチュアについて少し説明を。追加されたばかりのアーマチュアは、ボーン一つで構成されています。<br /> デフォルトだと三角のような変なスティックに、丸い先端部分がついていると思います。太い方の丸がRoot、細い方の丸がTipと呼ばれます。RootとTipはそれぞれ丸いところを選択（右クリックですね！）すればつかめます。「全体を選択したい」というときは、ボーンの真ん中らへんを選択すれば全体をつかむことができます。
        <br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/5.jpg"><img src="$res/2fatcatpool/refer/blender3/5.jpg" alt="5" width="510" height="390" class="alignleft size-full wp-image-2065" /><noscript><img src="$res/2fatcatpool/refer/blender3/5.jpg" alt="5" width="510" height="390" class="alignleft size-full wp-image-2065" /></noscript></a><br
        />
    </p>
    <h3><span id="i-2">ボーンを押し出してアーマチュアを構成しよう</span></h3>
    <p>アーマチュアは、Rootの方が全体の中心方向に、Tipは先端方向になるように作っていきます。</p>
    <h4><span id="i-3">■ 準備</span></h4>
    <p>と、その前に下準備。先ほど加えたアーマチュアを選択した状態で、プロパティパネルのアーマチュアタブ（人形のアイコン）をクリックして下さい。Displayの項目で、X-rayにチェックを入れます。これでボーンをパンダの中に入れても、見られる＆触れる状態になります。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/7.jpg"><img src="$res/2fatcatpool/refer/blender3/7.jpg" alt="7" width="350" height="480" class="alignleft size-full wp-image-2066" /><noscript><img src="$res/2fatcatpool/refer/blender3/7.jpg" alt="7" width="350" height="480" class="alignleft size-full wp-image-2066" /></noscript></a><br
        />
    </p>
    <p>続いて、3D View上で<span class="keybord">T</span>キーを押してツールシェルフを出します。Armature OptionsのX-Axis Mirrorにチェックを入れてください。これで左右対称にボーンを作れるようになります！<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/8.jpg"><img src="$res/2fatcatpool/refer/blender3/8.jpg" alt="8" width="510" height="310" class="alignleft size-full wp-image-2067" /><noscript><img src="$res/2fatcatpool/refer/blender3/8.jpg" alt="8" width="510" height="310" class="alignleft size-full wp-image-2067" /></noscript></a><br
        />
    </p>
    <h4><span id="i-4">■ ボーン構成</span></h4>
    <p>いよいよパンダのボーン構成です。とりあえずアーマチュアを選択した状態でエディットモードに移動します。<br /> まずはボーン全体を選択、
        <span class="keybord">G</span>で腰骨あたりまでに移動させます。Y軸・Z軸に固定すると、中央からずれなくてすみますよ！<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/9.jpg"><img src="$res/2fatcatpool/refer/blender3/9.jpg" alt="9" width="680" height="420" class="alignleft size-full wp-image-2068" /><noscript><img src="$res/2fatcatpool/refer/blender3/9.jpg" alt="9" width="680" height="420" class="alignleft size-full wp-image-2068" /></noscript></a><br
        />
    </p>
    <p>さっきのボーンのTipを選択して下さい。ボーンもモデルオブジェクトと同様に押し出し（<span class="keybord">E</span>）ができます。背骨〜首〜頭まで押し出してください。関節にしたい（曲げたい）ところで押し出しストップ、そのTipから更に押し出し…の繰り返しです。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/10.jpg"><img src="$res/2fatcatpool/refer/blender3/10.jpg" alt="10" width="510" height="540" class="alignleft size-full wp-image-2069" /><noscript><img src="$res/2fatcatpool/refer/blender3/10.jpg" alt="10" width="510" height="540" class="alignleft size-full wp-image-2069" /></noscript></a><br
        />
    </p>
    <p>背骨が終わったところで、腕を作ります。首もとあたりのTipを選択。普通に<span class="keybord">E</span>だけだと片方しか押し出しされませんが、<span class="keybord">Shift</span> + <span class="keybord">E</span>で左右対称に押し出しが出来ます！同様に肘下→手首と押し出して、腕ができました！<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/11.jpg"><img src="$res/2fatcatpool/refer/blender3/11.jpg" alt="11" width="510" height="380" class="alignleft size-full wp-image-2070" /><noscript><img src="$res/2fatcatpool/refer/blender3/11.jpg" alt="11" width="510" height="380" class="alignleft size-full wp-image-2070" /></noscript></a><br
        />
    </p>
    <p>続いて下半身です。腰骨のRootを選択して、何ですかねここ、骨盤ですか？まあ部位は気にせず、足の中心くらいまで左右対称に押し出します（<span class="keybord">Shift</span>+<span class="keybord">E</span>）。さらに骨盤のTipから下向きに大腿骨→膝下と押し出しして、足を作成。横視点にして（テンキーの<span class="keybord">3</span>）足首を押し出します。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/12.jpg"><img src="$res/2fatcatpool/refer/blender3/12.jpg" alt="12" width="680" height="300" class="alignleft size-full wp-image-2071" /><noscript><img src="$res/2fatcatpool/refer/blender3/12.jpg" alt="12" width="680" height="300" class="alignleft size-full wp-image-2071" /></noscript></a><br
        />
    </p>
    <p>いろいろな方向から見て、モデルオブジェクトからボーンがはみ出さない様に調整して下さい。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/13.jpg"><img src="$res/2fatcatpool/refer/blender3/13.jpg" alt="13" width="680" height="400" class="alignleft size-full wp-image-2116" /><noscript><img src="$res/2fatcatpool/refer/blender3/13.jpg" alt="13" width="680" height="400" class="alignleft size-full wp-image-2116" /></noscript></a><br
        /> アーマチュアの全体像が出来てきました！
        <br />
        <br />

    </p>
    <h2 id="step2"><span id="i-5">ボーンを制御する</span></h2>
    <p>このままボーンを動かせば扱えそうなものですが、胴体が離れたり、関節があらぬ方向に曲がったり曲がらなかったりと不都合なことがたくさんあるので、いろいろ施していきます！</p>
    <h3><span id="i-6">まずはボーンに名前をつけよう</span></h3>
    <p>プロパティパネルのボーン（骨の形のアイコン）タブをクリックしてみて下さい。骨マークの横の欄に入っているのが現在選択中のボーンの名前ですが…<br /> デフォルトだとBone_RやBone2_L.001とかだと思います。このままでは部位が分からなくて混乱するので、名前を付け変えます。
        <br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/15.jpg"><img src="$res/2fatcatpool/refer/blender3/15.jpg" alt="15" width="352" height="454" class="alignleft size-full wp-image-2072" /><noscript><img src="$res/2fatcatpool/refer/blender3/15.jpg" alt="15" width="352" height="454" class="alignleft size-full wp-image-2072" /></noscript></a><br
        />
    </p>
    <p>ココで重要なのが、<span class="red">左右対称に作ったボーンは同じ名前にして、末尾にLやRをつけるということ。</span>（小文字でもいいです。）これで、今後の作業でも左右対称の設定が生きたままに出来ますよ！<br />
        <div id="attachment_2073" style="width: 690px" class="wp-caption alignleft">
            <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/16.jpg"><img src="$res/2fatcatpool/refer/blender3/16.jpg" alt="私はこんな感じにしました" width="680" height="560" class="size-full wp-image-2073" /><noscript><img src="$res/2fatcatpool/refer/blender3/16.jpg" alt="私はこんな感じにしました" width="680" height="560" class="size-full wp-image-2073" /></noscript></a>
            <p class="wp-caption-text">私はこんな感じにしました</p>
        </div><br />
    </p>
    <h3><span id="Pose">新しいモード「Pose モード」</span></h3>
    <p>エディットモードはボーン自体の編集、オブジェクトモードはボーンを丸々動かすことしか出来ません。「じゃあ関節とかどうやっていじるのさ！」となりますが、ココで登場するのが新モード、「Pose モード」です。ポーズモードへの切り替えは以下の通り。<br />
    </p>
    <p>オブジェクトモードでアーマチュアを選択します。ここで<span class="keybord">Ctrl</span>+<span class="keybord">Tab</span>キーを押すと…<br /> 選択しているボーンが水色に！これがポーズモードに入ったってことです！
        <br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/17.jpg"><img src="$res/2fatcatpool/refer/blender3/17.jpg" alt="17" width="680" height="380" class="alignleft size-full wp-image-2074" /><noscript><img src="$res/2fatcatpool/refer/blender3/17.jpg" alt="17" width="680" height="380" class="alignleft size-full wp-image-2074" /></noscript></a><br
        />
    </p>
    <p>ポーズモードは、その名の通りポーズをとらせるためのモード。ここでボーン自体は編集されないので、試しに体を動かしてみたりできます！移動（<span class="keybord">G</span>）や回転（<span class="keybord">R</span>）で動かしてみて下さい。<br />
    </p>
    <p>うおおボーンがめちゃくちゃになったよ！という場合は、<span class="keybord">Option</span>（<span class="keybord">Alt</span>）+<span class="keybord">R</span>で回転を、<span class="keybord">Option</span>（<span class="keybord">Alt</span>）+<span class="keybord">G</span>で移動をクリアできます。<br
        />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/18.jpg"><img src="$res/2fatcatpool/refer/blender3/18.jpg" alt="18" width="680" height="380" class="alignleft size-full wp-image-2075" /><noscript><img src="$res/2fatcatpool/refer/blender3/18.jpg" alt="18" width="680" height="380" class="alignleft size-full wp-image-2075" /></noscript></a><br
        />
    </p>
    <p>そのまま<span class="keybord">Tab</span>を押せばエディットモードに入れます。再び<span class="keybord">Ctrl</span>+<span class="keybord">Tab</span>を押せばオブジェクトモードに戻ります。ちょっとややこしいですが、場面によってうまいこと切り替えましょう！<br />
    </p>
    <h3><span id="Auto_IK">Auto IKを使う</span></h3>
    <p>もう見出しの時点で「え、何語しゃべってんの？」という感じですが…。IKとはインバース・キネマティクスの略です。日本語だと「逆運動」みたいな感じですかね？<br /> ボーンというのは親子関係がありまして、押し出し元が親、押し出し先が子…という感じで構成されています。このアーマチュアでは、一番最初の腰骨が親元、手先や足先が末端の子供になります。
    </p>
    <p>普通に末端のボーンを動かしても、その部分しか動きません。が、IKを使えば、子供の運動に連動して、親の方も動いてくれる（逆方向に動きを伝えてくれる）様になります。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/19.jpg"><img src="$res/2fatcatpool/refer/blender3/19.jpg" alt="19" width="680" height="400" class="alignleft size-full wp-image-2076" /><noscript><img src="$res/2fatcatpool/refer/blender3/19.jpg" alt="19" width="680" height="400" class="alignleft size-full wp-image-2076" /></noscript></a><br
        />
    </p>
    <p>Auto IKは自動的にIKを適応してくれます。Auto IKを使うには、3DViewで<span class="keybord">T</span>を押してツールシェルフを出し、Pose OptionのAuto IKにチェックを入れるだけでOKです。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/20.jpg"><img src="$res/2fatcatpool/refer/blender3/20.jpg" alt="20" width="511" height="340" class="alignleft size-full wp-image-2077" /><noscript><img src="$res/2fatcatpool/refer/blender3/20.jpg" alt="20" width="511" height="340" class="alignleft size-full wp-image-2077" /></noscript></a><br
        />
    </p>
    <h3><span id="i-7">ボーンのチェーンを設定する</span></h3>
    <p>Auto IKをオンにして手先を動かすと、あらぬところまで動きます。こんな落ち着きのないパンダはどうかと思うので、肩から先だけ動く様にします。<br />
    </p>
    <p>左上腕を選択し、エディットモードに入ります。プロパティパネルのボーンタブで、Relationsを見て下さい。Connectedにチェックが入っているのを外すと、ここでチェーンが切れて親元と動きが連動しなくなります。右上腕も同じ様に設定して下さい。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/21.jpg"><img src="$res/2fatcatpool/refer/blender3/21.jpg" alt="21" width="680" height="460" class="alignleft size-full wp-image-2078" /><noscript><img src="$res/2fatcatpool/refer/blender3/21.jpg" alt="21" width="680" height="460" class="alignleft size-full wp-image-2078" /></noscript></a><br
        />
    </p>
    <p>続いてポーズモードで骨盤の骨を動かすと…ああ…足が体から分離してる！ということで、腰骨を親元に設定します。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/22.jpg"><img src="$res/2fatcatpool/refer/blender3/22.jpg" alt="22" width="680" height="238" class="alignleft size-full wp-image-2079" /><noscript><img src="$res/2fatcatpool/refer/blender3/22.jpg" alt="22" width="680" height="238" class="alignleft size-full wp-image-2079" /></noscript></a><br
        />
    </p>
    <p>骨盤を選択してエディットモードへ→プロパティパネルのボーンタブで<del datetime="2014-03-24T03:19:39+00:00">Connectedにチェックを入れます</del>（2014/3/24追記：Connectedのチェックは<span class="red">入れません</span>。混乱させて申し訳ありませんでした）<br /> 。その上の欄で、Parentを腰骨に設定して下さい。これで腰骨と骨盤がくっつきました！逆側も同様にして下さいね！
        <br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/23.jpg"><img src="$res/2fatcatpool/refer/blender3/23.jpg" alt="23" width="680" height="460" class="alignleft size-full wp-image-2080" /><noscript><img src="$res/2fatcatpool/refer/blender3/23.jpg" alt="23" width="680" height="460" class="alignleft size-full wp-image-2080" /></noscript></a><br
        />
    </p>
    <h3><span id="i-8">足の制御</span></h3>
    <p>Auto IKで足を動かすと、腕ほどいい感じに動きません。なので、ハンドルを設定してうまく動く様にします。Auto IKのチェックは外しておいて下さい。</p>
    <p>エディットモードで、下の足のTipから<span class="keybord">Shift</span>+<span class="keybord">E</span>で真下に押し出しをして、ハンドル用のボーンを作ります。それぞれhandle_L、handle_Rとでもしておいてください。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/24.jpg"><img src="$res/2fatcatpool/refer/blender3/24.jpg" alt="24" width="680" height="289" class="alignleft size-full wp-image-2081" /><noscript><img src="$res/2fatcatpool/refer/blender3/24.jpg" alt="24" width="680" height="289" class="alignleft size-full wp-image-2081" /></noscript></a><br
        />
    </p>
    <p>とりあえず左足から設定します。handle_Lを選択して、プロパティパネルのボーン設定へ。Connectedのチェックを外し、Parent選択欄で×ボタンを押して、ハンドルを完全フリーダムにしましょう。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/25.jpg"><img src="$res/2fatcatpool/refer/blender3/25.jpg" alt="25" width="680" height="460" class="alignleft size-full wp-image-2082" /><noscript><img src="$res/2fatcatpool/refer/blender3/25.jpg" alt="25" width="680" height="460" class="alignleft size-full wp-image-2082" /></noscript></a><br
        />
    </p>
    <p>そのまま左足首を選択してください。プロパティパネルでRelationsのConnectedチェックを外して、Parentを先ほど追加したボーンのhandle_Lに設定します。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/26.jpg"><img src="$res/2fatcatpool/refer/blender3/26.jpg" alt="26" width="680" height="460" class="alignleft size-full wp-image-2083" /><noscript><img src="$res/2fatcatpool/refer/blender3/26.jpg" alt="26" width="680" height="460" class="alignleft size-full wp-image-2083" /></noscript></a><br
        />
    </p>
    <p>ポーズモードに移動して、左下の足を選択します。プロパティパネルにConstraintタブがあるので（骨と鎖のアイコンです）、クリックしてAdd Constraint→Inverse Kinematicsを選択して下さい。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/27.jpg"><img src="$res/2fatcatpool/refer/blender3/27.jpg" alt="27" width="680" height="460" class="alignleft size-full wp-image-2084" /><noscript><img src="$res/2fatcatpool/refer/blender3/27.jpg" alt="27" width="680" height="460" class="alignleft size-full wp-image-2084" /></noscript></a><br
        />
    </p>
    <p>TargetをArmature（使っているアーマチュアの名前です）、Boneを足首のボーン（私はfoot_Lです）に設定します。このままだとあらぬところまで動くので、Cain Lengthを0から2に変更してください。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/28.jpg"><img src="$res/2fatcatpool/refer/blender3/28.jpg" alt="28" width="680" height="380" class="alignleft size-full wp-image-2085" /><noscript><img src="$res/2fatcatpool/refer/blender3/28.jpg" alt="28" width="680" height="380" class="alignleft size-full wp-image-2085" /></noscript></a><br
        />
    </p>
    <p>逆の足も同じ様に設定して下さい。これでハンドルを動かせば、足がいい感じに動く様になりました！<br />
    </p>
    <h2 id="step3"><span id="i-9">ウエイトペイントを設定する</span></h2>
    <p>アーマチュアにモデルオブジェクトを関連づけさせるためにはウェイトペイント使います。頂点のグループを作って、それぞれどのボーンに追従するかを設定します。</p>
    <h3><span id="i-10">アーマチュアモディファイアを適用させる</span></h3>
    <p>今の段階では、アーマチュアとメッシュオブジェクトは連動していません。連動させるにはアーマチュアモディファイアを使用します。<br />
    </p>
    <p>メッシュオブジェクトを選択して下さい。プロパティパネルでモディファイア（レンチのマーク）タブ→Add Modifire→Armatureでモディファイアを追加します。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/29.jpg"><img src="$res/2fatcatpool/refer/blender3/29.jpg" alt="29" width="680" height="460" class="alignleft size-full wp-image-2086" /><noscript><img src="$res/2fatcatpool/refer/blender3/29.jpg" alt="29" width="680" height="460" class="alignleft size-full wp-image-2086" /></noscript></a><br
        />
    </p>
    <p>ArmatureモディファイアのObjectという項目が空になっていますが、これに先ほど作ったアーマチュア（名前を変えていなければ多分「Armature」です）に設定し、右端の矢印で一番上まで移動させればOKです！<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/30.jpg"><img src="$res/2fatcatpool/refer/blender3/30.jpg" alt="30" width="350" height="480" class="alignleft size-full wp-image-2087" /><noscript><img src="$res/2fatcatpool/refer/blender3/30.jpg" alt="30" width="350" height="480" class="alignleft size-full wp-image-2087" /></noscript></a><br
        />
    </p>
    <p>ついでにこのままだとボーンの存在感がありすぎて塗った箇所が分からないので、プロパティパネルのアーマチュアタブ（人形のやつ）で、OctahedraからStickに変更しておきましょう。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/31.jpg"><img src="$res/2fatcatpool/refer/blender3/31.jpg" alt="31" width="350" height="480" class="alignleft size-full wp-image-2088" /><noscript><img src="$res/2fatcatpool/refer/blender3/31.jpg" alt="31" width="350" height="480" class="alignleft size-full wp-image-2088" /></noscript></a><br
        />
    </p>
    <h3><span id="i-11">ウエイトペイントモードでペイントする</span></h3>
    <p>また新たなモードが出てきてしまいましたが…その名の通りウェイトペイントするためのモードです。切り替えは、オブジェクトモードでメッシュオブジェクトを選択して<span class="keybord">Ctrl</span>+<span class="keybord">Tab</span>でOKです。ポーズモードと同じですね！メッシュを選んでいるかアーマチュアを選んでいるかの差です。ウエイトペイントモードに入ると、メッシュオブジェクトが濃い青色になります。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/32.jpg"><img src="$res/2fatcatpool/refer/blender3/32.jpg" alt="32" width="680" height="380" class="alignleft size-full wp-image-2089" /><noscript><img src="$res/2fatcatpool/refer/blender3/32.jpg" alt="32" width="680" height="380" class="alignleft size-full wp-image-2089" /></noscript></a><br
        />
    </p>
    <p>ボーンに対して連動させたい頂点をペイントしていきます。最初にツールシェルフのOptionsで、All Faceのチェックを外して、X Mirrorにチェックを入れます。これで片方を処理したら、もう片方も自動的に処理される様になりますよ！<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/33.jpg"><img src="$res/2fatcatpool/refer/blender3/33.jpg" alt="33" width="510" height="310" class="alignleft size-full wp-image-2090" /><noscript><img src="$res/2fatcatpool/refer/blender3/33.jpg" alt="33" width="510" height="310" class="alignleft size-full wp-image-2090" /></noscript></a><br
        />
    </p>
    <p>左上腕のボーンを選び、このボーンについてきてもらいたい頂点を塗っていきます。普通に左クリックで塗れます。ブラシの大きさや塗りの強さは、ツールシェルフで変更可能です。<br /> 塗った部分の色は、ウエイトによって変わります（ボーンについていく強さだと思って下さい）。水色→緑→黄色→赤の順でウエイトが強くなっていきます。
        <br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/34.jpg"><img src="$res/2fatcatpool/refer/blender3/34.jpg" alt="34" width="680" height="460" class="alignleft size-full wp-image-2091" /><noscript><img src="$res/2fatcatpool/refer/blender3/34.jpg" alt="34" width="680" height="460" class="alignleft size-full wp-image-2091" /></noscript></a><br
        />
    </p>
    <p>間違って塗ってしまった場合は、ブラシのブレンドモードをSubtractにすると塗った部分が消えるので、消しゴム代わりに使ってみて下さい。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/35.jpg"><img src="$res/2fatcatpool/refer/blender3/35.jpg" alt="35" width="680" height="460" class="alignleft size-full wp-image-2092" /><noscript><img src="$res/2fatcatpool/refer/blender3/35.jpg" alt="35" width="680" height="460" class="alignleft size-full wp-image-2092" /></noscript></a><br
        />
    </p>
    <p>各ボーン（handleを除く）に対してウエイトを設定していきます。<br />
        <div id="attachment_2117" style="width: 730px" class="wp-caption alignleft">
            <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/36-re.jpg"><img src="$res/2fatcatpool/refer/blender3/36-re.jpg" alt="裏側もしっかり塗りましょう" width="720" height="480" class="size-full wp-image-2117" /><noscript><img src="$res/2fatcatpool/refer/blender3/36-re.jpg" alt="裏側もしっかり塗りましょう" width="720" height="480" class="size-full wp-image-2117" /></noscript></a>
            <p class="wp-caption-text">裏側もしっかり塗りましょう</p>
        </div><br /> 試しにポーズモードでボーンを動かしてみましょう。腕を動かすときはAuto IKにチェックを入れて、足を動かすときは外してくださいね！思う様についていかない部分はウエイトを調整して下さい！<br />
    </p>
    <h2 id="step4"><span id="i-12">いよいよポーズ！</span></h2>
    <p>もうポーズが出来る段階になりました！が、もう少し動かしやすくするためにいくつかやることがあります。</p>
    <h3><span id="i-13">マスターボーンを追加する</span></h3>
    <p>今のままだと「パンダが移動するときはボーンを全部動かさないといけない」というエグい状態なので、マスターボーンを追加して、移動をそいつに任せてしまいたいと思います。<br />
    </p>
    <p>まず、アーマチュアを選択しエディットモードへ（<span class="keybord">Tab</span>）。一番のもとになっている背骨のTipを選択して、Y軸方向に押し出しします（<span class="keybord">E</span>→<span class="keybord">Y</span>）。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/37.jpg"><img src="$res/2fatcatpool/refer/blender3/37.jpg" alt="37" width="510" height="380" class="alignleft size-full wp-image-2093" /><noscript><img src="$res/2fatcatpool/refer/blender3/37.jpg" alt="37" width="510" height="380" class="alignleft size-full wp-image-2093" /></noscript></a><br
        />
    </p>
    <p>プロパティパネルのボーン設定で、今のボーンの名前を「Master」にして、Parentをなしにします（×印）。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/38.jpg"><img src="$res/2fatcatpool/refer/blender3/38.jpg" alt="38" width="680" height="445" class="alignleft size-full wp-image-2094" /><noscript><img src="$res/2fatcatpool/refer/blender3/38.jpg" alt="38" width="680" height="445" class="alignleft size-full wp-image-2094" /></noscript></a><br
        />
    </p>
    <p>続いて第一背骨と足のハンドルのParentを、全てMasterに設定します。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/39.jpg"><img src="$res/2fatcatpool/refer/blender3/39.jpg" alt="39" width="680" height="445" class="alignleft size-full wp-image-2095" /><noscript><img src="$res/2fatcatpool/refer/blender3/39.jpg" alt="39" width="680" height="445" class="alignleft size-full wp-image-2095" /></noscript></a><br
        />
    </p>
    <p>ポーズモードでマスターボーンを動かすと、パンダが丸ごと動いてくれます！ジャンプや歩行移動のときに便利です。</p>
    <h3><span id="i-14">ヒザの調整</span></h3>
    <p>このパンダ、今の状態はヒザがくちゃくちゃなので、きちんと動く様にしてあげます。<br /> エディットモードで上の足のTipを選択、
        <span class="keybord">Shift</span>+<span class="keybord">E</span>でY軸方向に押し出します。左右対称に名前を付けてあげて下さい（私はknee_L/Rにしました）。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/40.jpg"><img src="$res/2fatcatpool/refer/blender3/40.jpg" alt="40" width="510" height="380" class="alignleft size-full wp-image-2096" /><noscript><img src="$res/2fatcatpool/refer/blender3/40.jpg" alt="40" width="510" height="380" class="alignleft size-full wp-image-2096" /></noscript></a><br
        />
    </p>
    <p>今押し出したボーン（どちらからでもOK）のプロパティパネルで、Conecctedのチェックを外し、Parentをmasterに設定。もう片方も同じ様にします。<br /> 設定後、両方のボーンを選択して足から離します。大きくてうざったかったら、
        <span class="keybord">S</span>で縮小してもOKです。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/41.jpg"><img src="$res/2fatcatpool/refer/blender3/41.jpg" alt="41" width="680" height="460" class="alignleft size-full wp-image-2097" /><noscript><img src="$res/2fatcatpool/refer/blender3/41.jpg" alt="41" width="680" height="460" class="alignleft size-full wp-image-2097" /></noscript></a><br
        />
    </p>
    <p>続いてIK拘束の設定です。ポーズモードで左の太ももの骨（upper_leg_L）を選択して、IK拘束を追加。TargetをArmature、Boneをknee_L、Chain Lengthを1にします。逆の足も同様にすれば、比較的ヒザのくちゃくちゃがよくなる…はず…です。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/42.jpg"><img src="$res/2fatcatpool/refer/blender3/42.jpg" alt="42" width="680" height="380" class="alignleft size-full wp-image-2098" /><noscript><img src="$res/2fatcatpool/refer/blender3/42.jpg" alt="42" width="680" height="380" class="alignleft size-full wp-image-2098" /></noscript></a><br
        />
    </p>
    <h3><span id="i-15">ポーズをとらせてみよう</span></h3>
    <p>さっそくいろいろ動かしてみましょう！腕を動かすときは「Auto IK」をオンに、その他を動かすときはオフにして下さい。</p>
    <p>試しにジャンプ！思いのほかパンダがふてぶてしいですね。こんなつもりじゃなかったのに。<br />
        <a href="https://nvtrlab.jp/wp-content/uploads/2013/11/43.jpg"><img src="$res/2fatcatpool/refer/blender3/43.jpg" alt="43" width="680" height="406" class="alignleft size-full wp-image-2099" /><noscript><img src="$res/2fatcatpool/refer/blender3/43.jpg" alt="43" width="680" height="406" class="alignleft size-full wp-image-2099" /></noscript></a><br
        />
    </p>
    <h2><span id="i-16">ボーン設定終了！</span></h2>
    <p>お疲れ様です！なんかもう記事の最長記録を更新してしまいました…すみませんすみません。<br /> 今回の内容はBlender WikiのSummer of Documentationのチュートリアルをかなり参考にしています。諸々はしょっているので、「ちょっとコイツ何言ってんの意味分からん…」となったら、本家の方をのぞいてみて下さい！（Blendre2.4ですが、雰囲気はわかるはず…）</p>
    <p><a href="http://wiki.blender.org/index.php/Doc:JA/2.4/Tutorials/Animation/BSoD/Character_Animation/Upper_body_armature" title="Blender Summer of Documentation-Character Animation : リギング">Blender Summer of Documentation-Character Animation : リギング</a></p>
    <p>次回はアニメーション設定をしていきます。もう少しで終わるので、あと少しお付き合いください！</p>
</div>

<!--List-->


<!--Bottom-->
<a href="$html/index-study.html"><b>回到目录</b></a>

<!--Head-->
<script type="text/javascript" src="$js/jquery-3.1.1.min.js"></script>
<link href="$css/link.css" rel="stylesheet" type="text/css" media="screen" />

<!--Tail-->
<script type="text/javascript">
    $(document).ready(function() {
        $('#sidebar').load('$js/list/study.html');
    })
</script>